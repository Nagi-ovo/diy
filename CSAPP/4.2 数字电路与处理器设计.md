根据[第一章内容](01%20计算机系统漫游.md#^730547)，处理器内部，寄存器文件和算术逻辑单元（ALU）是串联的，寄存器文件的输出端口与ALU的输入端口相连。

![](storage%20bag/Screenshot%202024-02-27%20at%2010.37.51.png)
> `we_`写使能信号
 
我们可以使用硬件描述语言（HDL）来对寄存器文件进行行为级建模，最常用的是Verilog，另一种是VHDL

![](storage%20bag/Screenshot%202024-02-27%20at%2012.39.04.png)

类似于：C程序 -> 编译系统 -> 可执行程序

## CMOS
![](storage%20bag/Screenshot%202024-02-27%20at%2012.44.45.png)

![](storage%20bag/Screenshot%202024-02-27%20at%2012.46.31.png)
> 漏极相连，P管源级接电源，N管源级接地，实现非门

CMOS工艺中，与门和或门实现起来不如与非门和或非门高效，所以CMOS电路设计中最好使用NAND、NOR和NOT Gate来实现。

目前，电路的逻辑设计通常用Verilog等硬件描述语言来实现，然后采用EDA工具来进行综合和后端设计，这使得工程师们可以更多关注硬件功能的设计，而不是单个晶体管或者逻辑门的设计。

## D Flip Flop

D触发器（D flip-flop）是数字电路中常用的触发器类型之一，用于在时钟信号的作用下存储数据。

![|375](storage%20bag/Screenshot%202024-02-27%20at%2012.53.04.png)

图中的always语句表示，当时钟C在上升沿(*posedge*)的时候，如果G为1，就把输入D的值赋给触发器的输出Q，否则Q保持不变。可以发现用Verilog来描述电路比逻辑门简单很多。

Verilog程序是并行执行的，而C语言程序是串行执行的，所以硬件设计人员需要从电路的角度来理解Verilog语言，而不是软件的思维。

学习Verilog，首先要搞清楚**组合逻辑电路与时序逻辑电路的区别**（*Combinational Logic vs Sequential Logic*）

这两种电路的主要差异在于是否含有存储单元，其中组合逻辑电路的输出值仅由当前的输入状态来决定，而时序逻辑电路的输出值不仅与当前输入的状态有关，而且与原来的状态也有关。

三种语句足以完成所有设计：
1. `assign`，用于描述组合逻辑
2. `always @(posedge clock)`，用于描述时序逻辑
3. `module`，模块调用

